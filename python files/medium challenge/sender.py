import socket
import sys
import Crypto
from Crypto.Cipher import AES
ip_add='10.0.2.15'
hostname=input('Enter hostname: ')
port=4030
sock=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
sock.bind((ip_add,port))
sock.listen(1)

print("1 NEW MESSAGE FROM :",hostname)

conn,addr=sock.accept()

print("HOST ADDRESS: ",addr)
#AES encryption
def pad(msg):
	block_size=16
	p=(block_size-len(msg))%block_size
	pd_str=p * ' '
	print(pd_str)
	return msg+pd_str
aes=AES.new(key,AES.MODE_CBC,iv)
pad_msg=pad(msg)
print(pad_msg)
ecp=aes.encrypt(pad_msg)

conn.send(ecp.encode())
